<md-button class="md-raised md-warn" ng-click="$ctrl.exec()">Run</md-button>
<md-input-container class="pf-w300">
  <label>Plugin Choice</label>
  <md-select ng-model="$ctrl.plugin_index" ng-change="$ctrl.SelectPlugin()">
    <md-option ng-repeat="p in $ctrl.obj" ng-value="$index">{{p.name}}</md-option>
  </md-select>
</md-input-container>
<div layout="column" layout-padding ng-cloak>
  <md-content class="md-no-momentum">
    
    
    <md-input-container class="md-icon-float md-block pf-w300">
      <label>_id</label>
      <input ng-model="$ctrl.currentData._id" ng-value="$ctrl.current._id" type="text">
    </md-input-container>
    <md-input-container class="md-icon-float md-block pf-w300">
      <label>Name</label>
      <input ng-model="$ctrl.currentData.name" ng-value="$ctrl.current.name" type="text">
    </md-input-container>
    <md-input-container class="md-icon-float md-block pf-w300">
      <label>Description</label>
      <input ng-model="$ctrl.currentData.des" ng-value="$ctrl.current.des" type="text">
    </md-input-container>
    <md-input-container class="md-icon-float md-block pf-w300">
      <label>File Attached</label>
      <input ng-model="$ctrl.currentData.content" ng-value="$ctrl.current.content" type="text">
    </md-input-container>
    
    
    <fieldset class="standard pf-w300" style="background-color: darkgray;">
      <legend>Input form</legend>
      <div ng-repeat="(key, value) in $ctrl.current.input[0]">
        
        
        <!-- Select box -->
        <div ng-if="value.component=='select-box'">
          <md-input-container class="pf-w300">
            <label>{{key}}</label>
            <md-select ng-model="$ctrl.currentData.data[key]" >
              <md-option ng-repeat="(ikey, ivalue) in value.data" value="{{ikey}}">{{ivalue[ikey]}}</md-option>
            </md-select>
          </md-input-container>
        </div>


        <!-- Input Text -->
        <div ng-if="value.component=='text'">
          <md-input-container class="md-icon-float md-block pf-w300">
            <label>{{key}}</label>
            <input value="{{value.default}}" type="text" ng-model="$ctrl.currentData.data[key]">
          </md-input-container>
        </div>


        <!-- Date -->
        <div ng-if="value.component=='date'">
          <div flex-gt-xs class="pf-w300">
            <p>{{key}}</p>
            <md-datepicker ng-model="$ctrl.currentData.data[key]" md-placeholder="Enter date"></md-datepicker>
          </div>
        </div>


        <!-- Radio -->
        <div ng-if="value.component=='radio'">
          <md-input-container class="md-icon-float md-block pf-w300">
            <p>{{key}}</p>
            <md-radio-group ng-model="$ctrl.currentData.data[key]">
              <md-radio-button ng-repeat="(ikey, ivalue) in value.data" value="{{ikey}}" class="md-primary">{{ivalue[ikey]}}</md-radio-button>
            </md-radio-group>
          </md-input-container>
        </div>


        <!-- Multiple choice -->
        <div ng-if="value.component=='multi-choice'">
          <md-input-container class="md-icon-float md-block pf-w300">
            <label>{{key}}</label>
            <md-select ng-model="$ctrl.currentData.data[key]" multiple>
              <md-option ng-repeat="(ikey, ivalue) in value.data" ng-value="{{ikey}}" class="md-primary">{{ivalue[ikey]}}</md-option>
            </md-select>
          </md-input-container>
        </div>

      </div>
    </fieldset>
  </md-content>
</div>